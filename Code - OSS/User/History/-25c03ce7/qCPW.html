{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="card">
  <h2>Welcome</h2>

  <p><strong>Name:</strong> {{ name }}</p>
  <p><strong>Email:</strong> {{ email }}</p>
  <p><strong>Role:</strong> {{ role }}</p>
  <p><strong>Tenant:</strong> {{ tenant_id }}</p>

  {% if role != "user" %}
  <div class="admin">
    <h4>Admin Actions</h4>
    <a href="/admin/users/create">âž• Create User</a>
  </div>
  {% endif %}
</div>
  <!-- ADD TASK FORM (only for manager) -->
  <div id="taskFormContainer" style="display:none;">
    <h2>Add Task</h2>
    <form id="taskForm">


      <div>
        <label>Project Name</label>
        <select name="project_name" required id="projectSelect">
          <option value="">Loading...</option>
        </select>
      </div>

      <div>
        <label>Title</label>
        <input type="text" name="title" required>
      </div>

      <div>
        <label>Description</label>
        <textarea name="description"></textarea>
      </div>

      <div>
        <label>Assigned To (email)</label>
        <input type="email" name="assigned_to" required>
      </div>

      <div>
        <label>Start Date</label>
        <input type="date" name="start_date" required>
      </div>

      <div>
        <label>Due Date</label>
        <input type="date" name="due_date" required>
      </div>

      <button type="submit">Create Task</button>
    </form>
    <hr>
  </div>
{% endblock %}
